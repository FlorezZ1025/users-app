<form
  class="row border rounded border-2 card"
  (ngSubmit)="onSubmit(userForm)"
  #userForm="ngForm"
>
  <div class="card-header">
    <h3>{{ user.id > 0 ? "Update user" : "Create user" }}</h3>
  </div>
  <div class="card-body">
    <div>
      <input
        name="name"
        class="form-control my-2"
        placeholder="Nombre"
        [(ngModel)]="user.name"
        required
        #name="ngModel"
      />
      @if(name.invalid && name.touched) {
      <p class="text-danger fs-6">El nombre es requerido</p>
      }
    </div>
    <div>
      <input
        name="lastname"
        class="form-control my-2"
        placeholder="Lastname"
        [(ngModel)]="user.lastname"
        required
        #lastname="ngModel"
      />
      @if(lastname.invalid && lastname.touched) {
      <p class="text-danger">El apellido es requerido</p>
      }
    </div>
    <div>
      <input
        class="form-control my-2"
        placeholder="Email"
        name="email"
        [(ngModel)]="user.email"
        required
        type="email"
        email
        #email="ngModel"
      />
      @if(email.invalid && email.touched) {
      <p class="text-danger">El email es requerido y debe ser válido</p>
      }
    </div>
    <div>
      <input
        class="form-control my-2"
        placeholder="Username"
        name="username"
        [(ngModel)]="user.username"
        required
        #username="ngModel"
      />
      @if(username.invalid && username.touched) {
      <p class="text-danger">El username es requerido</p>
      }
    </div>
    @if (user.id === 0) {
    <div>
      <input
        class="form-control my-2"
        placeholder="Password"
        type="password"
        name="password"
        [(ngModel)]="user.password"
        required
        minlength="3"
        #password="ngModel"
      />
      @if(password.invalid && password.touched) {
      <p class="text-danger">
        La contraseña es requerida y debe tener al menos 3 caracteres
      </p>
      }
    </div>
    }
    <div class="d-flex justify-content-between">
      <button class="btn btn-primary" type="submit">
        {{ user.id > 0 ? "Update" : "Create" }}
      </button>
      <button class="btn btn-secondary" type="button" (click)="onReset(userForm)">
        Limpiar
      </button>
    </div>
  </div>
</form>
